<div *ngIf="this.currentState == 'welcome'">
    <app-welcome-dialog (enteredName)="setMyName($event)" (deviceConfig)="finalizeConfiguration($event)">
    </app-welcome-dialog>
</div>
<div *ngIf="this.currentState == 'connecting'">
    <app-connecting-dialog [reply$]="this.connectionReply" [askToPassword]="this.connect_ask_to_password" (passwordSubmitted)="connectWithPassword($event)"></app-connecting-dialog>
</div>
<div class="room-container" *ngIf="this.currentState == 'room'">
    
    <div class="main">
            <room-layout-gallery *ngIf="this.view == 'gallery'" [users]="this.users"></room-layout-gallery>
            <room-layout-spotlight *ngIf="this.view == 'spotlight'" [users]="this.users"></room-layout-spotlight>

            <div class="meetingControlsContainer">
                <button nbButton attr.aria-label="{{ 'Unmute microphone' | translate }}" nbTooltip="{{ 'Unmute microphone' | translate }}" status="danger" *ngIf="!isSpectator && this.isMyAudioMuted() == true" (click)="this.unMuteMyAudio()"><fa-icon [icon]="faMicrophoneSlash"></fa-icon></button>
                <button nbButton attr.aria-label="{{ 'Mute microphone' | translate }}" nbTooltip="{{ 'Mute microphone' | translate }}" *ngIf="!isSpectator && this.isMyAudioMuted() == false" (click)="this.muteMyAudio()"><fa-icon [icon]="faMicrophone"></fa-icon></button>
            
                <button nbButton attr.aria-label="{{ 'Turn camera on' | translate }}"  nbTooltip="{{ 'Turn camera on' | translate }}"  status="danger" *ngIf="!isSpectator && !this.isMyWebcamOn()" (click)="this.turnOnMyWebcam()"><nb-icon icon="video-outline"></nb-icon></button>
                <button nbButton attr.aria-label="{{ 'Turn camera off' | translate }}"  nbTooltip="{{ 'Turn camera off' | translate }}" *ngIf="!isSpectator && this.isMyWebcamOn()" (click)="this.turnOffMyWebcam()"><nb-icon icon="video-off-outline"></nb-icon></button>
            
                <button nbButton class="original" outline status="danger" (click)="this.leaveRoom()">{{ 'Leave Room' | translate }}</button>
                <!--<button (click)="this.testAddVideoBox()">Add</button>
                <button (click)="this.testResize()">resize</button>-->
            </div>
    </div>

    <div class="sidebar">
        <div class="sidebar-item view-container">
            <room-layout-selector [view]="view" (viewChanged)="this.viewChange($event)"></room-layout-selector>
        </div>
        <div class="sidebar-item user-list-container">
            <app-waiting-list></app-waiting-list>
            <app-user-list></app-user-list>
        </div>
        <div class="sidebar-item chat-container">
            <app-chat-display></app-chat-display>
        </div>
    </div>
</div>